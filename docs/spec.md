
# Спецификация приложения TalkPaste

## 1. Общее описание

TalkPaste - это десктопное кроссплатформенное приложение, разработанное на Flutter, предназначенное для преобразования устной речи пользователя в текст и его последующей автоматической вставки. Приложение работает в фоновом режиме, активируясь по настраиваемой комбинации клавиш, и предоставляет интуитивно понятный виджет для визуальной обратной связи.

## 2. Пользовательский интерфейс (UI)

### 2.1. Виджет приложения

- **Состояние по умолчанию**: После установки, на рабочем столе появляется виджет, соответствующий изображению `app-default.png`. По умолчанию он расположен в правом нижнем углу экрана (как на `default position.png`).
- **Поверх всех окон**: Виджет всегда должен быть поверх всех других окон приложения. Это поведение настраивается пользователем.
- **Перемещение**: Пользователь может свободно перемещать виджет по экрану, но только в пределах видимой области.
- **Анимация при наведении**: При наведении курсора на виджет, он должен плавно (быстро, но мягко) увеличиваться в размере, принимая вид, как на `cursor-pointer.png`.
- **Анимация при активации**: При удержании комбинации клавиш, виджет плавно увеличивается, как при наведении, и трансформируется в эквалайзер (как на `app-when-talk.png`), где точки скачут в зависимости от интенсивности звука.

### 2.2. Значок в трее (System Tray Icon)

- **Наличие**: Приложение должно иметь значок в системном трее.
- **Контекстное меню**: При клике правой кнопкой мыши на значок в трее открывается контекстное меню с пунктами:
    - "Настройки"

## 3. Настройки приложения

Доступ к настройкам осуществляется через контекстное меню значка в трее.

- **Комбинация клавиш для активации**: Поле для ввода и изменения комбинации клавиш, по умолчанию `Ctrl + Space`.
- **Чекбокс "Показывать поверх всех окон"**: 
    - **По умолчанию**: Включен.
    - **Функциональность**: Управляет поведением виджета, оставаться ли ему поверх всех окон.
- **Чекбокс "Скрыть виджет"**: 
    - **По умолчанию**: Выключен.
    - **Функциональность**: При включении виджет визуально скрывается с экрана, но приложение продолжает функционировать в фоновом режиме (распознавание речи и вставка текста).
- **Чекбокс "Запускать при старте Windows"**: 
    - **По умолчанию**: Включен.
    - **Функциональность**: Управляет автозапуском приложения при загрузке операционной системы.

## 4. Принцип работы

1.  **Активация распознавания речи**: Пользователь удерживает заданную комбинацию клавиш (по умолчанию `Ctrl + Space`).
2.  **Визуальная обратная связь**: Во время удержания комбинации клавиш:
    *   Виджет плавно увеличивается в размере (как `cursor-pointer.png`).
    *   Точки на виджете преобразуются в визуальный эквалайзер, отражающий интенсивность звука речи пользователя (как `app-when-talk.png`).
3.  **Распознавание речи**: Приложение слушает речь пользователя.
4.  **Вставка текста**: Как только пользователь отпускает комбинацию клавиш, распознанный текст автоматически вставляется в активное текстовое поле (или в место, где находился курсор ввода).

## 5. Установка

Приложение должно предоставлять установочный файл для ПК, обеспечивающий корректную установку и запуск в системе Windows.
